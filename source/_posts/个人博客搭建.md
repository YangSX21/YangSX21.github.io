---
title: 个人博客搭建
data: 2017-09-03 18:50:49
tags: 零散技术知识
---

>准备建一个个人博客，不仅是技术，也有一些个人的小说啊设定之类不太羞耻的东西准备往上放放。

我安全感其实也没多差，但是就是喜欢各处备份。另外一个就是写博客有助于敦促自己的学习，虽然可能作用有限。还有就是找一个大概不会有人能找到的地方写写自己的感悟，也算是一种隐秘的发表。

开始准备建博客的时候，搜索了下感觉博客主要就是分成三类。
- 轻博客和微博，这些就是社交作用比较大，蛮难静下心来码字的。
- 门户博客，这些博客维护倒是很简单，但是读者群固定的，说实话还真不是很喜欢。
- 独立博客，优势在于高度定制化，另外是没有严重的监管，不过需要折腾一下。

正好最近可以说是我还喜欢的折腾的时候，就准备搭一个独立博客，完全自己搭服务器建站就太难了，搜了一下准备以github+hexo进行搭建。搞了半个下午搞定了，记录一下。

#### 1. 装Hexo
[参考资料](http://www.cnblogs.com/liuxianan/p/build-blog-website-by-hexo-github.html)
Hexo是一个简单高效的博客框架，能够设置博客的主题等各种要素。
- 安装前提，git for windows（在win平台下），npm（下载工具），  node.js（hexo运行的基础环境）。
- npm install -g hexo #安装
- 新建一个目录，作为之后存放博客文件的位置。cd进该目录下。
- hexo init #初始化
**这样，就初步安装好了hexo。**
- hexo g #内容更新
- hexo s #内容预览
**这时你可以进入localhost:4000进行博客内容的预览**
#### 2. 配置github
- 在你的gihub新建一个仓库，命名为YourName.github.io。如果不进行域名绑定，这个就是你博客的网址了。
- 绑定域名（可选），我没绑，留空。
- 配置SSH Key（可选），这个其实只是生成秘钥来规避每次提交GitHub都需要输入用户名和密码，安全性也要更好一点。
```
cd ~/.ssh
ls #如果能看到id_rsa.pub 或 id_dsa.pub 文件已经存在，就跳过下一步
ssh-keygen -t rsa -C "your_email@example.com" #生成秘钥
```
 然后记事本打开在.ssh文件夹下面的id_rsa.pub，复制公钥，黏贴到GitHub上个人设置 -> SSH and GPG keys -> New SSH key就行了。
- 在cd进hexo的根目录，安装hexo-deployer-git，这个插件能够上传hexo的内容进GitHub。
```
npm install hexo-deployer-git --save
```
- 打开hexo根目录下面_config.yml，添加
```
deploy:
type: git
repository: git@github.com:yourname/yourname.github.io.git
branch: master
```
- _config,yml文件下面的url项的值改为http://yourname.github.io/

**至此就配置完成，你可以通过hexo d把更新推送到github的仓库中。**
#### 3. 博客的定制
hexo的各种风格样式，博客的各类要素都可以自行定制。这些配置都在hexo根目录下面的_config.yml文件中，里面说的很简单明了，实在不理解可以看[hexo官方说明](https://hexo.io/zh-cn/docs/configuration.html)。
下面说一下我花时间玩的两个配置。主题和favicon。
##### 1）主题配置
主题能够设置很多东西，显著改善整个博客的面貌，说不定能加强写博客的动力。推荐这个[知乎帖](https://www.zhihu.com/question/24422335)。
最后我选择的主题是[yilia](https://github.com/litten/hexo-theme-yilia)，应该是国人的作品，怎么配置在他的页面上说的很清楚，我就不卖弄了。
##### 2）favicon的配置
favicon就是你浏览器浏览该页面或者收藏该页面的时候显示在标签页左边的那个图标。这是个小东西，我去捯饬它主要是因为chrome的默认——那个纸张图案太丑了。
这个的配置在你的主题的根目录下面的_config.yml中，（注意：和之前说的不是一个文件），配置是很简单的，值为图片地址就行。
*我的一些提醒*，图片要求是png格式的正方形，像素我建议160x160左右吧，这样大小20+k就不会很模糊，另外我觉得把图片切成圆形要好看的多，不怕麻烦就p一下吧。
#### 4. 写博上传
- hexo n 'title' 简单的一条命令，会在/source/_post文件夹下面生成一个markdown格式的文档，在里面写文就行了。

markdown编辑工具，我推荐[简书](http://www.jianshu.com/)，作为跨平台在线编辑器非常好用，PC端可以使用web能够随时预览，移动端有相应的app，你可以不进行发表，作为一个在线编辑器使用，还有云存储功能，何乐而不为呢。

- 依次运行hexo g/hexo d就行，当然你应该会先运行hexo s进行预览检查。

#### 5. 版权申明
版权申明挺必要的，勿以善小而不为。
我是参照[此文](https://blog.zscself.com/2017/01/25/ee4d9ecb/)进行设置，非常感谢这位任豚膜法师。

#### 6. 评论系统
本来属意多说，但不久之前多说挂了，也就绝了寻找第三方评论系统的心，实在是怕突然有个万一怎么办。

不过多说挂了，受影响的还轮不到我，正好有个国内的大神imsun也受了影响，所以他造了个轮子，基于Github Issues的[Gitment](https://imsun.net/posts/gitment-introduction/)。感觉对于我这种托管在GitHub上面的博客实在是绝配，就准备接入了。

参考[此文](http://dcison.top/2017/08/26/yilia%E4%B8%BB%E9%A2%98%E6%90%AD%E9%85%8DGitment%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/)进行配置。
